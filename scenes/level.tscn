[gd_scene load_steps=14 format=4 uid="uid://8y8p2i5ocda6"]

[ext_resource type="PackedScene" uid="uid://b7e7nt2r1s5yi" path="res://scenes/player.tscn" id="1_bqpxw"]
[ext_resource type="Script" path="res://scripts/camera_2d.gd" id="2_usl5j"]
[ext_resource type="PackedScene" uid="uid://digt8gbgjtjp2" path="res://scenes/portal_manager.tscn" id="3_xn3r8"]
[ext_resource type="Texture2D" uid="uid://d4eldxyvbjkiu" path="res://sprites/Tilemap.png" id="4_twun6"]
[ext_resource type="Texture2D" uid="uid://brghi2r6dmk6k" path="res://sprites/Sky background.png" id="5_isxi8"]
[ext_resource type="Texture2D" uid="uid://benp33pscyapr" path="res://sprites/Big planet background.png" id="6_8ahws"]
[ext_resource type="Texture2D" uid="uid://cw2o23vc2h7i8" path="res://sprites/Small planet background.png" id="7_tgic8"]
[ext_resource type="Texture2D" uid="uid://n43dnyc6nteh" path="res://sprites/monitor.png" id="8_mgomq"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_v1tst"]
polygon = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_nrcd0"]
polygon = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_waudy"]
polygon = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_x504o"]
polygon = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_yo5gn"]
texture = ExtResource("4_twun6")
texture_region_size = Vector2i(256, 256)
0:0/0 = 0
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
2:0/0 = 0
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
0:1/0 = 0
0:1/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_v1tst")
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
0:1/0/custom_data_1 = true
1:1/0 = 0
1:1/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_x504o")
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
1:1/0/custom_data_1 = true
2:1/0 = 0
2:1/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_x504o")
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
2:1/0/custom_data_1 = true
3:1/0 = 0
3:1/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_x504o")
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
3:1/0/custom_data_1 = true
0:2/0 = 0
0:2/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_nrcd0")
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
0:2/0/custom_data_0 = true
1:2/0 = 0
1:2/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_nrcd0")
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
1:2/0/custom_data_0 = true
2:2/0 = 0
2:2/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_nrcd0")
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
2:2/0/custom_data_0 = true
3:2/0 = 0
3:2/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_nrcd0")
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
3:2/0/custom_data_0 = true
0:3/0 = 0
0:3/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_nrcd0")
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
0:3/0/custom_data_0 = true
0:3/0/custom_data_1 = true
1:3/0 = 0
1:3/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_nrcd0")
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
1:3/0/custom_data_0 = true
1:3/0/custom_data_1 = true
2:3/0 = 0
2:3/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_nrcd0")
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
2:3/0/custom_data_0 = true
2:3/0/custom_data_1 = true
3:3/0 = 0
3:3/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_nrcd0")
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
3:3/0/custom_data_0 = true
3:3/0/custom_data_1 = true
0:4/0 = 0
0:4/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_waudy")
0:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
1:4/0 = 0
1:4/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_waudy")
1:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
2:4/0 = 0
2:4/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_waudy")
2:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)
3:4/0 = 0
3:4/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_waudy")
3:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, -128, 128, -128, 128, 128, -128, 128)

[sub_resource type="TileSet" id="TileSet_53ymg"]
tile_size = Vector2i(256, 256)
occlusion_layer_0/light_mask = 1
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 3
custom_data_layer_0/name = "can_orange_portal"
custom_data_layer_0/type = 1
custom_data_layer_1/name = "can_blue_portal"
custom_data_layer_1/type = 1
sources/1 = SubResource("TileSetAtlasSource_yo5gn")

[node name="Level" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_bqpxw")]
z_index = 5
position = Vector2(402, 354)

[node name="Camera2D" type="Camera2D" parent="Player"]
scale = Vector2(4.94, 4.94)
offset = Vector2(0, -290.545)
zoom = Vector2(0.9, 0.9)
script = ExtResource("2_usl5j")

[node name="PortalManager" parent="." instance=ExtResource("3_xn3r8")]
unique_name_in_owner = true
z_index = 4

[node name="TileMapLayer" type="TileMapLayer" parent="."]
clip_children = 1
position = Vector2(33, -3)
scale = Vector2(0.5, 0.5)
tile_map_data = PackedByteArray("AAABAAMAAQABAAIAAGABAAQAAQACAAIAAAACAAQAAQABAAIAAAADAAQAAQABAAIAAAAEAAQAAQABAAIAAAAFAAQAAQABAAIAAAABAAIAAQABAAIAAGABAAEAAQABAAIAAGABAAAAAQABAAEAAFAGAAQAAQABAAIAAAAHAAQAAQABAAIAAAAIAAQAAQADAAIAAAAJAAQAAQABAAIAAAABAP7/AQACAAEAAFABAP//AQABAAEAAFAIAAMAAQAAAAIAAFACAP7/AQABAAEAAAADAP7/AQABAAEAAAAEAP7/AQABAAEAAAAFAP7/AQABAAEAAAAGAP7/AQABAAEAAAAHAP7/AQABAAEAAAAIAP7/AQABAAEAAAAJAP7/AQABAAEAAAAKAP7/AQABAAEAAAAKAAQAAQABAAIAAAALAAQAAQABAAIAAAAMAAQAAQABAAIAAAANAAQAAQABAAIAAAAOAAQAAQADAAIAAAAPAAQAAQABAAMAAAAQAAQAAQABAAMAAAAOAAMAAQABAAIAAFAOAAIAAQAAAAIAAFALAP7/AQABAAEAAAARAAQAAQABAAMAAAASAAQAAQABAAMAAAATAAQAAQABAAMAAAAUAAQAAQABAAMAAAAVAAQAAQABAAMAAAAWAAQAAQACAAMAAGAXAAQAAQACAAMAAAAYAAQAAQABAAMAAAAZAAQAAQABAAMAAAAaAAQAAQABAAMAAAAbAAQAAQABAAMAAAAcAAQAAQABAAMAAAAdAAQAAQACAAMAAGAeAAQAAQACAAMAAAAfAAQAAQABAAMAAAAgAAQAAQACAAMAADAgAAUAAQABAAMAAFAgAAYAAQABAAMAAFAgAAcAAQABAAMAAFAgAAgAAQABAAMAAFAgAAkAAQABAAMAAFAhAAQAAQABAAQAAFAhAAUAAQAAAAQAAFAhAAYAAQAAAAQAAFAhAAcAAQACAAQAAFAhAAgAAQAAAAQAAFAiAAQAAQAAAAQAAAAiAAUAAQABAAAAAAAiAAYAAQABAAAAAAAiAAcAAQADAAQAADAiAAgAAQABAAAAAAAjAAQAAQACAAQAADAjAAUAAQAAAAQAAGAjAAYAAQADAAQAAGAjAAcAAQABAAAAAAAjAAgAAQADAAQAAFAkAAQAAQAAAAQAAAAkAAUAAQABAAAAAAAkAAYAAQABAAAAAAAkAAcAAQADAAQAAAAkAAgAAQABAAAAAAAlAAQAAQABAAQAADAlAAUAAQAAAAQAAFAlAAYAAQAAAAQAAFAlAAcAAQACAAQAAGAlAAgAAQAAAAQAAFAMAP7/AQABAAEAAAANAP7/AQABAAEAAAAOAP7/AQABAAEAAAAPAP7/AQABAAEAAAAQAP7/AQABAAEAAAARAP7/AQABAAMAAAASAP7/AQABAAMAAAATAP7/AQADAAMAADAUAP7/AQABAAMAAAAVAP7/AQABAAMAAAAWAP7/AQABAAMAAAAXAP7/AQABAAMAAAAYAP7/AQABAAMAAAAZAP7/AQABAAMAAAAaAP7/AQABAAMAAAAbAP7/AQABAAMAAAAcAP7/AQABAAMAAAAdAP7/AQABAAMAAAAeAP7/AQADAAMAADAfAP7/AQABAAMAAAAgAPv/AQABAAMAAFAgAPz/AQABAAMAAFAgAP3/AQABAAMAAFAgAP7/AQACAAMAAGAhAPv/AQAAAAQAAGAhAPz/AQAAAAQAAGAhAP3/AQAAAAQAAGAhAP7/AQABAAQAAAAiAPv/AQABAAAAAAAiAPz/AQABAAAAAAAiAP3/AQABAAAAAAAiAP7/AQAAAAQAAAAjAPv/AQABAAAAAAAjAPz/AQABAAAAAAAjAP3/AQABAAAAAAAjAP7/AQAAAAQAAAAkAPv/AQABAAAAAAAkAPz/AQABAAAAAAAkAP3/AQABAAAAAAAkAP7/AQAAAAQAAAAlAPv/AQABAAAAAAAlAPz/AQABAAAAAAAlAP3/AQABAAAAAAAlAP7/AQAAAAQAAAATAAAAAQACAAMAAAAWAAEAAQABAAMAAGAXAAIAAQABAAMAAGAXAAMAAQABAAMAAGAWAAIAAQABAAMAAGAWAAMAAQABAAMAAGAXAAEAAQABAAMAAGAdAAIAAQABAAMAAGAdAAMAAQABAAMAAGAeAAIAAQABAAMAAGAeAAMAAQABAAMAAGATAP//AQABAAMAAGAWAAAAAQACAAMAAFAXAAAAAQACAAMAADAUAAAAAQAAAAMAADAdAAEAAQADAAMAADAeAAEAAQACAAMAADAeAP//AQAAAAMAAGAbAAAAAQAAAAMAAFAbAAEAAQACAAMAAAAcAAEAAQABAAMAAAAmAPv/AQABAAAAAAAmAPz/AQABAAAAAAAmAP3/AQABAAAAAAAmAP7/AQAAAAQAAAAnAPz/AQABAAAAAAAnAP3/AQABAAAAAAAnAP7/AQAAAAQAAAAoAPz/AQABAAQAAAAoAPv/AQABAAQAADAoAP3/AQABAAAAAAAoAP7/AQAAAAQAAAApAPz/AQABAAQAADApAP3/AQAAAAQAAGApAP7/AQABAAQAAGApAAQAAQAAAAMAAAApAAUAAQABAAQAAFApAAYAAQAAAAQAAGApAAcAAQAAAAQAAGApAAgAAQAAAAQAAGApAAkAAQABAAQAAAAqAAQAAQABAAMAAAArAAQAAQABAAMAAAAsAAQAAQABAAMAAAAsAP7/AQAAAAQAAGAsAP3/AQAAAAQAAGAsAPz/AQABAAQAAFAsAP//AQAAAAQAAGAsAAAAAQAAAAQAAGAsAAEAAQAAAAQAAGAsAAIAAQAAAAQAAGAsAAMAAQABAAQAAAAkAAoAAQAAAAQAAAAkAAsAAQABAAAAAAAlAAsAAQAAAAQAAFAlAAoAAQACAAQAAGAmAAoAAQACAAMAAFAmAAsAAQABAAMAAFAnAAsAAQADAAAAAAAnAAoAAQABAAMAAAAoAAsAAQADAAAAAAAoAAoAAQABAAMAAAApAAoAAQABAAMAAAApAAsAAQADAAAAAAAhAAoAAQACAAQAAFAhAAsAAQAAAAQAAFAhAAwAAQAAAAQAAFAhAA0AAQAAAAQAAGAiAAoAAQAAAAQAAAAiAAsAAQABAAAAAAAiAAwAAQABAAAAAAAiAA0AAQABAAAAAAAjAAoAAQACAAQAAAAjAAsAAQABAAAAAAAjAAwAAQABAAAAAAAjAA0AAQABAAAAAAAkAAwAAQABAAAAAAAkAA0AAQABAAAAAAAlAAwAAQAAAAQAAFAlAA0AAQAAAAQAAFAmAAwAAQABAAMAAFAmAA0AAQABAAMAAFAnAAwAAQADAAAAAAAnAA0AAQADAAAAAAAoAAwAAQADAAAAAAAoAA0AAQADAAAAAAApAAwAAQADAAAAAAApAA0AAQADAAAAAAAqAAoAAQABAAMAAAAqAAsAAQADAAAAAAAqAAwAAQADAAAAAAAqAA0AAQADAAAAAAArAAoAAQABAAMAAAArAAsAAQADAAAAAAArAAwAAQADAAAAAAArAA0AAQADAAAAAAAsAAoAAQABAAMAAAAsAAsAAQADAAAAAAAsAAwAAQADAAAAAAAsAA0AAQADAAAAAAAqAAUAAQAAAAQAAAAqAAYAAQABAAAAAAAqAAcAAQABAAAAAAAqAAgAAQABAAAAAAAqAAkAAQAAAAQAAAArAAUAAQAAAAQAAAArAAYAAQABAAAAAAArAAcAAQABAAAAAAArAAgAAQABAAAAAAArAAkAAQAAAAQAAAAsAAUAAQAAAAQAAAAsAAYAAQABAAAAAAAsAAcAAQABAAAAAAAsAAgAAQABAAAAAAAsAAkAAQAAAAQAAAAnAPr/AQABAAQAADAmAPr/AQAAAAQAAAAmAPf/AQADAAQAAAAtAPz/AQABAAQAAGAtAP3/AQABAAAAAAAtAP7/AQABAAAAAAAtAPv/AQABAAQAAFAuAPv/AQABAAQAAGAuAPr/AQABAAQAAFAvAPr/AQABAAQAAGAvAPn/AQAAAAQAAFAnAPf/AQAAAAQAADAoAPf/AQAAAAQAADApAPf/AQAAAAQAADAqAPf/AQAAAAQAADArAPf/AQAAAAQAADAtAPf/AQAAAAQAADAuAPf/AQAAAAQAADAvAPf/AQABAAQAADAvAPj/AQAAAAQAAFAtAP//AQABAAAAAAAtAAAAAQABAAAAAAAtAAEAAQABAAAAAAAtAAIAAQABAAAAAAAtAAMAAQAAAAQAAAAtAAQAAQABAAMAAAAtAAUAAQAAAAQAAAAtAAYAAQABAAAAAAAtAAcAAQABAAAAAAAtAAgAAQABAAAAAAAtAAkAAQAAAAQAAAAtAAoAAQABAAMAAAAtAAsAAQADAAAAAAAtAAwAAQADAAAAAAAtAA0AAQADAAAAAAAuAPz/AQABAAAAAAAuAP3/AQABAAAAAAAvAPv/AQABAAAAAAAvAPz/AQABAAAAAAAvAP3/AQABAAAAAAAuAP7/AQABAAAAAAAuAP//AQABAAAAAAAuAAAAAQABAAAAAAAuAAEAAQABAAAAAAAuAAIAAQABAAAAAAAuAAMAAQAAAAQAAAAuAAQAAQABAAMAAAAuAAUAAQAAAAQAAAAuAAYAAQABAAAAAAAvAP7/AQABAAAAAAAvAP//AQABAAAAAAAvAAAAAQABAAAAAAAvAAEAAQABAAAAAAAvAAIAAQABAAAAAAAvAAMAAQAAAAQAAAAvAAQAAQABAAMAAAAvAAUAAQAAAAQAAAAvAAYAAQABAAAAAAAuAAcAAQABAAAAAAAuAAgAAQABAAAAAAAuAAkAAQAAAAQAAAAvAAcAAQABAAAAAAAvAAgAAQABAAAAAAAvAAkAAQAAAAQAAAAlAPr/AQAAAAQAAAAkAPr/AQAAAAQAAAAjAPr/AQABAAQAAAAkAPf/AQABAAQAAGAjAPf/AQABAAQAAFAjAPj/AQAAAAQAAFAjAPn/AQAAAAQAAFA3APT/AQADAAAAAAAjAPb/AQABAAAAAAAkAPb/AQAAAAQAAFAjAPX/AQAAAAQAAAAkAPX/AQABAAQAADAkAPT/AQABAAMAAAAjAPT/AQABAAMAAAAlAPT/AQABAAMAAAAmAPT/AQAAAAMAADAvAPb/AQACAAMAAAAvAPX/AQABAAMAAFAvAPT/AQABAAMAAFAvAPP/AQABAAMAAFAvAPL/AQABAAMAAFAvAPH/AQABAAMAAFAvAPD/AQABAAMAAFAvAO//AQABAAMAAFAvAO7/AQABAAMAAFAvAO3/AQABAAMAAFAvAOz/AQABAAMAAFAvAOv/AQABAAMAAFAvAOr/AQABAAMAAFAvAOn/AQABAAMAAFAvAOj/AQACAAMAAFAwAOj/AQABAAMAADAxAOj/AQABAAMAADAyAOj/AQABAAMAADAzAOj/AQABAAMAADA0AOj/AQABAAMAADA1AOj/AQAAAAMAADAnAPv/AQABAAQAAAAsAPf/AQAAAAQAAAAjAAkAAQAAAAQAAGAhAAkAAQAAAAQAAGAlAAkAAQAAAAQAAGAiAAkAAQABAAAAAAAkAAkAAQABAAAAAAA=")
tile_set = SubResource("TileSet_53ymg")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(610, -3904)
motion_scale = Vector2(0, 0)
motion_mirroring = Vector2(50, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Sky"]
texture_filter = 1
position = Vector2(-898, -1715)
scale = Vector2(1.6662, 1.6662)
texture = ExtResource("5_isxi8")
centered = false

[node name="BigPlanet" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(610, -3904)
motion_scale = Vector2(0.25, 0.25)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/BigPlanet"]
texture_filter = 1
position = Vector2(-889, -1760)
scale = Vector2(1.6734, 1.6734)
texture = ExtResource("6_8ahws")
centered = false

[node name="SmallPlanet" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(610, -3904)
motion_scale = Vector2(0.5, 0.5)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/SmallPlanet"]
position = Vector2(-880, -1706)
scale = Vector2(1.6644, 1.6644)
texture = ExtResource("7_tgic8")
centered = false

[node name="BackgroundObjects" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="BackgroundObjects"]
position = Vector2(444, 453)
scale = Vector2(0.183426, 0.183426)
texture = ExtResource("8_mgomq")
